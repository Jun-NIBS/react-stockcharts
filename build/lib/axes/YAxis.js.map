{"version":3,"sources":["../../../src/lib/axes/YAxis.js"],"names":["YAxis","props","context","axisZoomCallback","bind","newYDomain","chartId","yAxisZoom","onDomainChange","initialDomain","helper","zoomEnabled","moreProps","propTypes","axisAt","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","yZoomWidth","tickValues","array","showTicks","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","domainClassName","fill","stroke","strokeWidth","opacity","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","y","w","h","x","transform","range","getScale","getYScale","bg","yPan","scale","yScale","flipYScale","invert","trueRange","trueDomain","map","copy","domain"],"mappings":"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","file":"YAxis.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axis from \"./Axis\";\n\nclass YAxis extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.axisZoomCallback = this.axisZoomCallback.bind(this);\n    }\n    axisZoomCallback(newYDomain) {\n        const { chartId, yAxisZoom } = this.context;\n        if(this.props.onDomainChange){\n            this.props.onDomainChange(newYDomain);\n        }\n        yAxisZoom(chartId, newYDomain);\n    }\n    componentDidMount() {\n        if (this.props.initialDomain) {\n            this.axisZoomCallback(this.props.initialDomain);\n        }\n    }\n    render() {\n        const { zoomEnabled, ...moreProps } = helper(this.props, this.context);\n        return (\n            <Axis\n                {...this.props}\n                {...moreProps}\n                zoomEnabled={this.props.zoomEnabled && zoomEnabled}\n                edgeClip\n                axisZoomCallback={this.axisZoomCallback}\n                zoomCursorClassName=\"react-stockcharts-ns-resize-cursor\"\n            />\n        );\n    }\n}\n\nYAxis.propTypes = {\n    axisAt: PropTypes.oneOfType([\n        PropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n        PropTypes.number\n    ]).isRequired,\n    orient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n    innerTickSize: PropTypes.number,\n    outerTickSize: PropTypes.number,\n    tickFormat: PropTypes.func,\n    tickPadding: PropTypes.number,\n    tickSize: PropTypes.number,\n    ticks: PropTypes.number,\n    yZoomWidth: PropTypes.number,\n    tickValues: PropTypes.array,\n    showTicks: PropTypes.bool,\n    className: PropTypes.string,\n    zoomEnabled: PropTypes.bool,\n    onContextMenu: PropTypes.func,\n    onDoubleClick: PropTypes.func,\n    onDomainChange: PropTypes.func,\n    initialDomain: PropTypes.array\n};\n\nYAxis.defaultProps = {\n    showTicks: true,\n    showTickLabel: true,\n    showDomain: true,\n    className: \"react-stockcharts-y-axis\",\n    ticks: 10,\n    outerTickSize: 0,\n    domainClassName: \"react-stockcharts-axis-domain\",\n    fill: \"none\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 1,\n    opacity: 1,\n    innerTickSize: 5,\n    tickPadding: 6,\n    tickStroke: \"#000000\",\n    tickStrokeOpacity: 1,\n    fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n    fontSize: 12,\n    fontWeight: 400,\n    yZoomWidth: 40,\n    zoomEnabled: true,\n    initialDomain: null,\n    onDomainChange: null,\n    getMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1]\n};\n\nYAxis.contextTypes = {\n    yAxisZoom: PropTypes.func.isRequired,\n    chartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n        .isRequired,\n    chartConfig: PropTypes.object.isRequired\n};\n\nfunction helper(props, context) {\n    const { axisAt, yZoomWidth, orient } = props;\n    const {\n        chartConfig: { width, height }\n    } = context;\n\n    let axisLocation;\n    const y = 0,\n        w = yZoomWidth,\n        h = height;\n\n    if (axisAt === \"left\") {\n        axisLocation = 0;\n    } else if (axisAt === \"right\") {\n        axisLocation = width;\n    } else if (axisAt === \"middle\") {\n        axisLocation = width / 2;\n    } else {\n        axisLocation = axisAt;\n    }\n\n    const x = orient === \"left\" ? -yZoomWidth : 0;\n\n    return {\n        transform: [axisLocation, 0],\n        range: [0, height],\n        getScale: getYScale,\n        bg: { x, y, h, w },\n        zoomEnabled: context.chartConfig.yPan\n    };\n}\n\nfunction getYScale(moreProps) {\n    const { yScale: scale, flipYScale, height } = moreProps.chartConfig;\n    if (scale.invert) {\n        const trueRange = flipYScale ? [0, height] : [height, 0];\n        const trueDomain = trueRange.map(scale.invert);\n        return scale\n            .copy()\n            .domain(trueDomain)\n            .range(trueRange);\n    }\n    return scale;\n}\n\nexport default YAxis;\n"]}